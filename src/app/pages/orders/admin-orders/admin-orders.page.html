<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button (click)="cancel()"></ion-back-button>
        </ion-buttons>
        <ion-title>{{ title }}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>

    <form *ngIf="!id" [formGroup]="ordersForm">

        <div formArrayName="items">
            <ion-button (click)="presentModalExist()">
                Existente
            </ion-button>
            <ion-button (click)="presentModalnotExist()">
                Nuevo
            </ion-button>
            <ion-grid>
                <ion-row>
                    <ion-col>
                        <ion-label position="floating">Nombre</ion-label>
                    </ion-col>
                    <ion-col>
                        <ion-label position="floating">Cantidad</ion-label>
                    </ion-col>
                    <ion-col>
                        <ion-label position="floating">Color</ion-label>
                    </ion-col>
                    <ion-col>

                    </ion-col>
                </ion-row>
            </ion-grid>

            <ion-grid *ngFor="let p of productsForm.controls; let i = index" [formGroupName]="i">
                <ion-row>
                    <ion-col>
                        <ion-input readonly="readonly" type="text" formControlName="itemName" (click)="showData(products[i].value.itemName, products[i].value.quantity, products[i].value.color)"></ion-input>
                    </ion-col>
                    <ion-col>
                        <ion-input type="number" formControlName="quantity"></ion-input>
                    </ion-col>
                    <ion-col>
                        <ion-input readonly="readonly" type="text" formControlName="color" (click)="showData(products[i].value.itemName, products[i].value.quantity, products[i].value.color)"></ion-input>
                    </ion-col>
                    <ion-col>
                        <ion-button color="danger" (click)="deleteProduct( i )">
                            <ion-icon slot="icon-only" name="close"></ion-icon>
                        </ion-button>
                    </ion-col>
                </ion-row>
            </ion-grid>

        </div>

    </form>

    <form *ngIf="id" [formGroup]="ordersForm">

        <div formArrayName="items">
            <ion-button size="small" (click)="presentModalExist()">
                Existente
            </ion-button>
            <ion-button size="small" (click)="presentModalnotExist()">
                Nuevo
            </ion-button>
            <ion-grid>
                <ion-row>
                    <ion-col>
                        <ion-label position="floating">Nombre</ion-label>
                    </ion-col>
                    <ion-col>
                        <ion-label position="floating">Cantidad</ion-label>
                    </ion-col>
                    <ion-col>
                        <ion-label position="floating">Color</ion-label>
                    </ion-col>
                    <ion-col>

                    </ion-col>
                </ion-row>
            </ion-grid>

            <ion-grid *ngFor="let p of productsForm.controls; let i = index" [formGroupName]="i">
                <ion-row>
                    <ion-col>
                        <ion-input readonly="readonly" type="text" formControlName="itemName" (click)="showData(products[i].value.itemName, products[i].value.quantity, products[i].value.color)"></ion-input>
                    </ion-col>
                    <ion-col>
                        <ion-input type="number" formControlName="quantity"></ion-input>
                    </ion-col>
                    <ion-col>
                        <ion-input readonly="readonly" type="text" formControlName="color" (click)="showData(products[i].value.itemName, products[i].value.quantity, products[i].value.color)"></ion-input>
                    </ion-col>
                    <ion-col>
                        <ion-checkbox color="primary" formControlName="get" (ionChange)="changeCheckBox($event)"></ion-checkbox>
                    </ion-col>
                </ion-row>
            </ion-grid>

        </div>

    </form>

    <ion-button expand="full" type="submit" (click)="SAVE()">Guardar</ion-button>

</ion-content>